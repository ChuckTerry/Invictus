function nonDestructiveAssign(target,source){const a=target,b=source,x=undefined,y=Array.isArray,c=Object.entries(b),d=c.length;for(let i=0;i<d;i++){const [e,f]=c[i];if(typeof f==="object"){if(y(f)){if(a[e]===x)a[e]=[];if(!y(a[e]))a[e]=[a[e]];const g=f.length;for(let j=0;j<g;j++){const h=f[j];if(!a[e].includes(h))a[e].push(h)}}else if(f===null){if(a[e]===x)a[e]=null}else{if(a[e]===x)a[e]={};const k=nonDestructiveAssign(a[e],f);a[e]=k}}else{if(a[e]===x)a[e]=f}}return a}
