class FlashCardSet{constructor(t){if("string"==typeof t&&(t=JSON.parse(t)),this.i=t.UUID,this.j=document.querySelector("#"+this.i),null===this.j)throw new ReferenceError('Unable to locate destination element (UUID: "'+this.i+'") on current page');this.l=t.Title,this.m=t.Created,this.n=t.Modified,this.o=[],this.p=null,this.q=null,this.r=null,this.s=null,this.t=null,this.u=null,this.h=null,this.v=null,this.w=null,this.x=0;const s=t.FlashCards.length;for(let i=0;i<s;i++){const s=t.FlashCards[i],h=s.Term.Content,e=s.Definition.Content,d=this.c(h,e);this.o.push(d)}invictus.flashCardSets.push(this),this.y=this.f(),this.j.appendChild(this.y),this.e(),this.o[0].classList.add("active"),this.w=this.o[0],this.j.classList.remove("placeholder"),this.j.parentElement.classList.remove("no-overflow"),this.a()}a(){this.q.addEventListener("click",(()=>{this.q.classList.add("hidden"),this.r.classList.remove("hidden"),this.s.classList.remove("hidden"),this.v.classList.remove("hidden"),this.p.classList.add("expanded")})),this.r.addEventListener("click",(()=>{this.r.classList.add("hidden"),this.s.classList.add("hidden"),this.q.classList.remove("hidden"),this.v.classList.add("hidden"),this.p.classList.remove("expanded")})),this.s.addEventListener("click",(()=>{this.d()})),this.u.addEventListener("click",(()=>{this.w.classList.toggle("active"),this.w.classList.remove("selected"),this.x=0===this.x?this.o.length-1:this.x-1,this.w=this.o[this.x],this.w.classList.toggle("hidden"),this.w.classList.toggle("active")})),this.t.addEventListener("click",(()=>{this.w.classList.toggle("active"),this.w.classList.remove("selected"),this.x=this.x===this.o.length-1?0:this.x+1,this.w=this.o[this.x],this.w.classList.toggle("hidden"),this.w.classList.toggle("active")}))}b(t,s="div",i=[],h){const e=document.createElement(s);return e.classList.add("invictus"),"string"==typeof t&&(t=t.includes(" ")?t.split(" "):[t]),Array.isArray(t)&&t.forEach((t=>e.classList.add(t))),i instanceof HTMLElement&&(i=[i]),Array.isArray(i)&&i.forEach((t=>e.appendChild(t))),"button"===s&&(e.type="button"),h&&(e.innerText=h),e}c(t,s){const i=this.b("term-text","p",void 0,t),h=this.b("card-term","div",i),e=this.b("card-front","div",h),d=this.b("definition-text","p",void 0,s),a=this.b("card-definition","div",d),l=this.b("card-back","div",a),n=this.b("card-inner","div",[e,l]);return this.b("card-wrapper","div",n)}d(){const t=[...this.h.children];t.length>0&&t.forEach((t=>t.remove())),null!==this.w&&(this.w?.classList.remove("selected"),this.w?.classList.remove("active"));let s,i=this.o.length;for(;0!==i;)s=Math.floor(Math.random()*i),i--,[this.o[i],this.o[s]]=[this.o[s],this.o[i]];this.o[0].classList.add("active"),this.w=this.o[0],this.x=0,this.o.forEach((t=>{this.h.appendChild(t)}))}e(){if(!1===globalThis?.invictus?.consistentCardOrder){let t,s=this.o.length;for(;0!==s;)t=Math.floor(Math.random()*s),s--,[this.o[s],this.o[t]]=[this.o[t],this.o[s]]}this.o.forEach((t=>{t.firstChild.addEventListener("click",this.g),this.h.appendChild(t)}))}f(){const t=this.b(["title-bar"],"span",void 0,this.l);this.q=this.b(["show-flip-cards","right"],"button",void 0,"Show Flip Cards"),this.r=this.b(["close-flip-cards","right","hidden"],"button",void 0,"âœ•"),this.r.title="Hide Flip Cards",this.s=this.b(["shuffle-flip-cards","right","hidden"],"button",void 0,"Shuffle"),this.s.title="Randomize Flip Cards Order";const s=this.b(["menu-bar"],"div",[t,this.q,this.r,this.s]);return this.u=this.b(["previous-card"],"div",void 0,"ðŸž€"),this.h=this.b(["card-area"],"div"),this.t=this.b(["next-card"],"div",void 0,"ðŸž‚"),this.v=this.b(["card-area-wrapper","hidden"],"div",[this.u,this.h,this.t]),this.p=this.b(["flip-container"],"div",[s,this.v]),this.p}g(t){(t instanceof HTMLElement?t:t.currentTarget).parentElement.classList.toggle("selected")}}
